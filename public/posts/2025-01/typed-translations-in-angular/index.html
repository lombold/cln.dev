<!DOCTYPE html>
<html lang="en" dir="auto">

<head><script src="/cln.dev/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=cln.dev/livereload" data-no-instant defer></script><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="noindex, nofollow">
<title>Typed Translations in Angular | cln.dev - Tech Blog</title>
<meta name="keywords" content="">
<meta name="description" content="TL/DR Quick-Win: Create a Json Schema file to validate the format of translation keys Big / customer facing projects: Write translations in TypeScript files and define a Type based on it. Use this Type to ensure that keys in your App actually exist. Why translate? A lot of web applications are exposed to a target audience which likely consists of people who speak different languages. You can make your application easier to use if you translate it&rsquo;s content (e.">
<meta name="author" content="Colin">
<link rel="canonical" href="http://localhost:1313/cln.dev/posts/2025-01/typed-translations-in-angular/">
<link crossorigin="anonymous" href="/cln.dev/assets/css/stylesheet.b609c58d5c11bb90b1a54e04005d74ad1ddf22165eb79f5533967e57df9c3b50.css" integrity="sha256-tgnFjVwRu5CxpU4EAF10rR3fIhZet59VM5Z&#43;V9&#43;cO1A=" rel="preload stylesheet" as="style">
<link rel="icon" href="http://localhost:1313/cln.dev/favicon.ico">
<link rel="icon" type="image/png" sizes="16x16" href="http://localhost:1313/cln.dev/favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="http://localhost:1313/cln.dev/favicon-32x32.png">
<link rel="apple-touch-icon" href="http://localhost:1313/cln.dev/apple-touch-icon.png">
<link rel="mask-icon" href="http://localhost:1313/cln.dev/safari-pinned-tab.svg">
<meta name="theme-color" content="#2e2e33">
<meta name="msapplication-TileColor" content="#2e2e33">
<link rel="alternate" hreflang="en" href="http://localhost:1313/cln.dev/posts/2025-01/typed-translations-in-angular/">
<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
    <style>
        @media (prefers-color-scheme: dark) {
            :root {
                --theme: rgb(29, 30, 32);
                --entry: rgb(46, 46, 51);
                --primary: rgb(218, 218, 219);
                --secondary: rgb(155, 156, 157);
                --tertiary: rgb(65, 66, 68);
                --content: rgb(196, 196, 197);
                --code-block-bg: rgb(46, 46, 51);
                --code-bg: rgb(55, 56, 62);
                --border: rgb(51, 51, 51);
            }

            .list {
                background: var(--theme);
            }

            .list:not(.dark)::-webkit-scrollbar-track {
                background: 0 0;
            }

            .list:not(.dark)::-webkit-scrollbar-thumb {
                border-color: var(--theme);
            }
        }

    </style>
</noscript>
</head>

<body class="" id="top">
<script>
    if (localStorage.getItem("pref-theme") === "dark") {
        document.body.classList.add('dark');
    } else if (localStorage.getItem("pref-theme") === "light") {
        document.body.classList.remove('dark')
    } else if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
        document.body.classList.add('dark');
    }

</script>

<header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="http://localhost:1313/cln.dev/" accesskey="h" title="cln.dev - Tech Blog (Alt + H)">cln.dev - Tech Blog</a>
            <div class="logo-switches">
                <button id="theme-toggle" accesskey="t" title="(Alt + T)">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
            </div>
        </div>
        <ul id="menu">
        </ul>
    </nav>
</header>
<main class="main">

<article class="post-single">
  <header class="post-header">
    
    <h1 class="post-title entry-hint-parent">
      Typed Translations in Angular
    </h1>
    <div class="post-meta"><span title='2025-01-29 19:00:00 +0100 CET'>January 29, 2025</span>&nbsp;Â·&nbsp;Colin

</div>
  </header> 
  <div class="post-content"><h1 id="tldr">TL/DR<a hidden class="anchor" aria-hidden="true" href="#tldr">#</a></h1>
<ul>
<li>Quick-Win: Create a Json Schema file to validate the format of translation keys</li>
<li>Big / customer facing projects: Write translations in TypeScript files and define a Type based on it. Use this Type to ensure that keys in your App actually exist.</li>
</ul>
<h1 id="why-translate">Why translate?<a hidden class="anchor" aria-hidden="true" href="#why-translate">#</a></h1>
<p>A lot of web applications are  exposed to a target audience which likely consists of people who speak different languages. You can make your application easier to use if you translate it&rsquo;s content (e.g. buttons, navigation, links, headers, etc.).</p>
<h1 id="maintaining-translation-files-is-a-pain">Maintaining translation files is a pain<a hidden class="anchor" aria-hidden="true" href="#maintaining-translation-files-is-a-pain">#</a></h1>
<p>Translations are typically managed through json files where one or more files are created for each language you want to support (e.g. en.json, de.json). The problem of a basic json file is that it does not enforce a format of the keys or the stucture of the data by design. Due to that uncontrolled growth of these translation files can lead to quite a mess. With each added key every developer has to think of an expressive name and also ensure that the readability of the file is not worsened.</p>
<p>To reduce the effort a team can settle on dev guidelines to align the expressiveness and structure of the translation files.</p>
<p>Team Guidlines are the basis to untangle the mess with translation files but they have some crucial challenges:</p>
<ul>
<li>
<p>a guideline is good but it has to be reviewed continuously to prevent mistakes</p>
</li>
<li>
<p>software always changes. this can lead to unused keys</p>
</li>
<li>
<p>keys are not type-safe which can introduce typos between language files or when used in code</p>
</li>
</ul>
<p>The following example showcases typical problems in translation file</p>
<div class="codefile">
    <div class="filename"><small><strong>example-translation.json</strong></small></div>

    
    
    <div class="highlight" file="example-translation.json"><div style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-json" data-lang="json"><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;USED_KEY&#34;</span>: <span style="color:#e6db74">&#34;used key&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;ENUM.KEY_dog&#34;</span>: <span style="color:#e6db74">&#34;wrong format (. instead of _)&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;ENUM_KEY_cat&#34;</span>: <span style="color:#e6db74">&#34;cat&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;ENUM_KEY_mouse&#34;</span>: <span style="color:#e6db74">&#34;mouse&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;OBJECT_KEY&#34;</span>: {
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;USED_KEY&#34;</span>: <span style="color:#e6db74">&#34;This is a used key&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;UNUSED_KEY&#34;</span>: <span style="color:#e6db74">&#34;This key is not used&#34;</span>
</span></span><span style="display:flex;"><span>  },
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;^bad~char&#34;</span>: <span style="color:#e6db74">&#34;This key is in a unwanted format / with unwanted symbols&#34;</span>
</span></span><span style="display:flex;"><span>}</span></span></code></pre></td></tr></table>
</div>
</div>
</div><h1 id="goal">Goal<a hidden class="anchor" aria-hidden="true" href="#goal">#</a></h1>
<p>I want to tackle the difficulties of translation files by evaluating and adopting some type-safe approach. A type-safe format could enforce team guidelines by automatic testing. Which makes translation files one less thing to mind about while developing software.</p>
<h1 id="possible-solutions">Possible solutions<a hidden class="anchor" aria-hidden="true" href="#possible-solutions">#</a></h1>
<p>First, I will explore three approaches to making the translation files themselves more type-safe. Then, we will look at how to make translation keys in our application&rsquo;s code safer and easier to use.</p>
<h2 id="enforcing-guidelines-on-translation-files">Enforcing guidelines on translation files<a hidden class="anchor" aria-hidden="true" href="#enforcing-guidelines-on-translation-files">#</a></h2>
<h3 id="json-schema-file">JSON Schema file<a hidden class="anchor" aria-hidden="true" href="#json-schema-file">#</a></h3>
<p>One way to make json files type-safe is to validate it by a predefined schema. <a href="https://json-schema.org/specification">JSONSchema</a> provides the possibilty to define the desired json&rsquo;s structure by custom schema definitions.
These custom schemas then can be validated against your translation files in your pipeline or directly in your IDE.
Intellij and VS Code both support the validation of json schemas:</p>
<ul>
<li><a href="https://www.jetbrains.com/help/idea/json.html#ws_json_schema_add_custom">https://www.jetbrains.com/help/idea/json.html#ws_json_schema_add_custom</a></li>
<li><a href="https://code.visualstudio.com/docs/languages/json#_json-schemas-and-settings">https://code.visualstudio.com/docs/languages/json#_json-schemas-and-settings</a></li>
</ul>
<p>For example to validate the json from the top we could specify the following</p>
<div class="codefile">
    <div class="filename"><small><strong>json-schema-full.json</strong></small></div>

    
    
    <div class="highlight" file="json-schema-full.json"><div style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">25
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">26
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">27
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">28
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">29
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">30
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">31
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">32
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">33
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">34
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">35
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">36
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">37
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">38
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">39
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">40
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">41
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">42
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-json" data-lang="json"><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;$schema&#34;</span>: <span style="color:#e6db74">&#34;https://json-schema.org/draft/2020-12/schema&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;type&#34;</span>: <span style="color:#e6db74">&#34;object&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;properties&#34;</span>: {
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;$schema&#34;</span>: {
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">&#34;type&#34;</span>: <span style="color:#e6db74">&#34;string&#34;</span>
</span></span><span style="display:flex;"><span>    },
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;USED_KEY&#34;</span>: {
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">&#34;type&#34;</span>: <span style="color:#e6db74">&#34;string&#34;</span>
</span></span><span style="display:flex;"><span>    },
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;ENUM_KEY_dog&#34;</span>: {
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">&#34;type&#34;</span>: <span style="color:#e6db74">&#34;string&#34;</span>
</span></span><span style="display:flex;"><span>    },
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;ENUM_KEY_cat&#34;</span>: {
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">&#34;type&#34;</span>: <span style="color:#e6db74">&#34;string&#34;</span>
</span></span><span style="display:flex;"><span>    },
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;ENUM_KEY_mouse&#34;</span>: {
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">&#34;type&#34;</span>: <span style="color:#e6db74">&#34;string&#34;</span>
</span></span><span style="display:flex;"><span>    },
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;OBJECT_KEY&#34;</span>: {
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">&#34;type&#34;</span>: <span style="color:#e6db74">&#34;object&#34;</span>,
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">&#34;properties&#34;</span>: {
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">&#34;USED_KEY&#34;</span>: {
</span></span><span style="display:flex;"><span>          <span style="color:#f92672">&#34;type&#34;</span>: <span style="color:#e6db74">&#34;string&#34;</span>
</span></span><span style="display:flex;"><span>        },
</span></span><span style="display:flex;"><span>      },
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">&#34;required&#34;</span>: [
</span></span><span style="display:flex;"><span>        <span style="color:#e6db74">&#34;USED_KEY&#34;</span>
</span></span><span style="display:flex;"><span>      ],
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">&#34;additionalProperties&#34;</span>: <span style="color:#66d9ef">false</span>
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>  },
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;required&#34;</span>: [
</span></span><span style="display:flex;"><span>    <span style="color:#e6db74">&#34;$schema&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#e6db74">&#34;USED_KEY&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#e6db74">&#34;ENUM_KEY_dog&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#e6db74">&#34;ENUM_KEY_cat&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#e6db74">&#34;ENUM_KEY_mouse&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#e6db74">&#34;OBJECT_KEY&#34;</span> 
</span></span><span style="display:flex;"><span>  ],
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;additionalProperties&#34;</span>: <span style="color:#66d9ef">false</span>
</span></span><span style="display:flex;"><span>}</span></span></code></pre></td></tr></table>
</div>
</div>
</div><p>When referencing the schema by a &lsquo;$schema&rsquo; key Intellij automatically validates it against the json file. If a rule fails you get syntax highlighting in the editor:
<img src="images/json-schema-full.png" alt="Example of schema validation in Intellij" title="Example of schema validation in Intellij"></p>
<p>These full schema validations provide a good way to ensure that all defined keys are represented in all translation files and there is no spelling mistake. The downside of this approach is that the schema file is yet another file to maintain plus we cannot reference the translation keys in code in a type-safe way. So this can only be a partial solution.</p>
<h3 id="simple-json-schema-validation">Simple JSON Schema validation<a hidden class="anchor" aria-hidden="true" href="#simple-json-schema-validation">#</a></h3>
<p>JSON Schemas can be useful tough. If your team agreed on a naming pattern which all translation keys should respect then you could write a small schema file which states this pattern written in RegEx:</p>
<div class="codefile">
    <div class="filename"><small><strong>json-schema-simple.json</strong></small></div>

    
    
    <div class="highlight" file="json-schema-simple.json"><div style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">7
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-json" data-lang="json"><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;$schema&#34;</span>: <span style="color:#e6db74">&#34;https://json-schema.org/draft/2020-12/schema&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;type&#34;</span>: <span style="color:#e6db74">&#34;object&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;propertyNames&#34;</span>: {
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;pattern&#34;</span>: <span style="color:#e6db74">&#34;^\\$schema|([A-Za-z_]+)$&#34;</span>
</span></span><span style="display:flex;"><span>  }
</span></span><span style="display:flex;"><span>}</span></span></code></pre></td></tr></table>
</div>
</div>
</div><p>Like the full schema your Intellij will validate this schema automatically:</p>
<figure>
    <img src="images/json-schema-simple.png" alt="Example of schema validation in Intellij">
    <figcaption><small>Fig. - Simple Json Validation in Intellij</small></figcaption>
  </figure><p>Unfortunately this property name pattern does not work in VSCode atm.</p>
<h3 id="translation-files-written-in-typescript">Translation files written in TypeScript?<a hidden class="anchor" aria-hidden="true" href="#translation-files-written-in-typescript">#</a></h3>
<p>As we saw JSON Schema can be used to check the integrity of the translation files. But if we want to ensure that the keys are referenced in a type-safe manner we have to get a bit more creative.</p>
<p>Since the source code is mainly written in TypeScript and - as the name implies- one big feature of the language is to enforce a type system to our code we can use its magic to check our translation files too.</p>
<p>There would be multiple ways to get this working. I&rsquo;ve settled on the following approach:</p>
<div class="codefile">
    <div class="filename"><small><strong>i18n/en.ts</strong></small></div>

    
    
    <div class="highlight" file="i18n/en.ts"><div style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">25
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">26
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">27
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-TypeScript" data-lang="TypeScript"><span style="display:flex;"><span><span style="color:#75715e">// i18n/en.ts
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">export</span> <span style="color:#66d9ef">default</span> {
</span></span><span style="display:flex;"><span> <span style="color:#e6db74">&#34;USED_KEY&#34;</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;used key&#34;</span>,
</span></span><span style="display:flex;"><span> <span style="color:#e6db74">&#34;UNUSED_KEY&#34;</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;unused key&#34;</span>,
</span></span><span style="display:flex;"><span> <span style="color:#e6db74">&#34;ENUM_KEY_dog&#34;</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;dog&#34;</span>,
</span></span><span style="display:flex;"><span> <span style="color:#e6db74">&#34;ENUM_KEY_cat&#34;</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;cat&#34;</span>,
</span></span><span style="display:flex;"><span> <span style="color:#e6db74">&#34;ENUM_KEY_mouse&#34;</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;mouse&#34;</span>,
</span></span><span style="display:flex;"><span> <span style="color:#e6db74">&#34;OBJECT_KEY&#34;</span><span style="color:#f92672">:</span> {
</span></span><span style="display:flex;"><span>   <span style="color:#e6db74">&#34;USED_KEY&#34;</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;This is a used key&#34;</span>,
</span></span><span style="display:flex;"><span>   <span style="color:#e6db74">&#34;UNUSED_KEY&#34;</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;This is an unused key&#34;</span>
</span></span><span style="display:flex;"><span> },
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">// i18n/de.ts
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">import</span> <span style="color:#a6e22e">en</span> <span style="color:#66d9ef">from</span> <span style="color:#e6db74">&#34;./en&#34;</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">export</span> <span style="color:#66d9ef">default</span> {
</span></span><span style="display:flex;"><span> <span style="color:#e6db74">&#34;USED_KEY&#34;</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;Das ist ein gebrauchter SchlÃ¼ssel&#34;</span>,
</span></span><span style="display:flex;"><span> <span style="color:#e6db74">&#34;UNUSED_KEY&#34;</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;Das ist ein unbenutzter SchlÃ¼ssel&#34;</span>,
</span></span><span style="display:flex;"><span> <span style="color:#e6db74">&#34;ENUM_KEY_dog&#34;</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;Hund&#34;</span>,
</span></span><span style="display:flex;"><span> <span style="color:#e6db74">&#34;ENUM_KEY_cat&#34;</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;Katze&#34;</span>,
</span></span><span style="display:flex;"><span> <span style="color:#e6db74">&#34;ENUM_KEY_mouse&#34;</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;Maus&#34;</span>,
</span></span><span style="display:flex;"><span> <span style="color:#e6db74">&#34;OBJECT_KEY&#34;</span><span style="color:#f92672">:</span> {
</span></span><span style="display:flex;"><span>   <span style="color:#e6db74">&#34;USED_KEY&#34;</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;Das ist ein gebrauchter SchlÃ¼ssel&#34;</span>,
</span></span><span style="display:flex;"><span>   <span style="color:#e6db74">&#34;UNUSED_KEY&#34;</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;Das ist ein unbenutzter SchlÃ¼ssel&#34;</span>
</span></span><span style="display:flex;"><span> }
</span></span><span style="display:flex;"><span>} <span style="color:#66d9ef">as</span> <span style="color:#66d9ef">typeof</span> <span style="color:#a6e22e">en</span>;</span></span></code></pre></td></tr></table>
</div>
</div>
</div><p>For each language (e.g. English and German) I created a separate TypeScript file. Each translation file consists just of a default export which exports all translation of the respective language as an object. Now to get the type-checking working we let the compiler know against which Type we want to check. This is done by adding <code>as typeof en</code> to the end of the German translations.</p>
<p>What I like about this setup is that it does not just check if the keys are spelled correctly. It also checks that there are no missed or additional keys.</p>
<p>But how could you use this in your Angular project?</p>
<h2 id="adoption-in-angular-using-ngx-translate">Adoption in Angular (using ngx-translate)<a hidden class="anchor" aria-hidden="true" href="#adoption-in-angular-using-ngx-translate">#</a></h2>
<h3 id="typing">Typing<a hidden class="anchor" aria-hidden="true" href="#typing">#</a></h3>
<p>The first step is to get our translation Type actually usable. Because ngx-translate takes the refence as a dot-separated path which it is using to travers the translation object:</p>
<div class="codefile">
    <div class="filename"><small><strong>example.component.html</strong></small></div>

    
    
    <div class="highlight" file="example.component.html"><div style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-TypeScript" data-lang="TypeScript"><span style="display:flex;"><span>&lt;<span style="color:#f92672">p</span>&gt;{{ <span style="color:#e6db74">&#34;USED_KEY&#34;</span> <span style="color:#f92672">|</span> <span style="color:#a6e22e">translate</span> }}&lt;/<span style="color:#f92672">p</span>&gt;
</span></span><span style="display:flex;"><span>&lt;<span style="color:#f92672">p</span>&gt;{{ <span style="color:#e6db74">&#34;OBJECT_KEY.USED_KEY&#34;</span> <span style="color:#f92672">|</span> <span style="color:#a6e22e">translate</span> }}&lt;/<span style="color:#f92672">p</span>&gt;
</span></span><span style="display:flex;"><span>&lt;<span style="color:#f92672">p</span>&gt;{{ <span style="color:#e6db74">&#34;USED_KEY&#34;</span> <span style="color:#f92672">|</span> <span style="color:#a6e22e">translate</span> }}&lt;/<span style="color:#f92672">p</span>&gt;</span></span></code></pre></td></tr></table>
</div>
</div>
</div><p>To map our existing translation file Type into the desired format we have to use a small helper:</p>
<div class="codefile">
    <div class="filename"><small><strong>recursive-key.ts</strong></small></div>

    
    
    <div class="highlight" file="recursive-key.ts"><div style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">22
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-TypeScript" data-lang="TypeScript"><span style="display:flex;"><span><span style="color:#66d9ef">export</span> <span style="color:#66d9ef">type</span> <span style="color:#a6e22e">RecursiveKeyType</span>&lt;<span style="color:#f92672">TObj</span> <span style="color:#a6e22e">extends</span> <span style="color:#a6e22e">object</span>&gt; <span style="color:#f92672">=</span> {
</span></span><span style="display:flex;"><span>  [<span style="color:#a6e22e">TKey</span> <span style="color:#66d9ef">in</span> <span style="color:#66d9ef">keyof</span> <span style="color:#a6e22e">TObj</span> <span style="color:#f92672">&amp;</span> (<span style="color:#66d9ef">string</span> <span style="color:#f92672">|</span> <span style="color:#66d9ef">number</span>)]<span style="color:#f92672">:</span> <span style="color:#a6e22e">RecursiveKeyOfHandleValue</span><span style="color:#f92672">&lt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">TObj</span>[<span style="color:#a6e22e">TKey</span>],
</span></span><span style="display:flex;"><span>    <span style="color:#e6db74">`</span><span style="color:#e6db74">${</span><span style="color:#a6e22e">TKey</span><span style="color:#e6db74">}</span><span style="color:#e6db74">`</span>
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&gt;</span>;
</span></span><span style="display:flex;"><span>}[<span style="color:#66d9ef">keyof</span> <span style="color:#a6e22e">TObj</span> <span style="color:#f92672">&amp;</span> (<span style="color:#66d9ef">string</span> <span style="color:#f92672">|</span> <span style="color:#66d9ef">number</span>)];
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">type</span> <span style="color:#a6e22e">RecursiveKeyOfInner</span>&lt;<span style="color:#f92672">TObj</span> <span style="color:#a6e22e">extends</span> <span style="color:#a6e22e">object</span>&gt; <span style="color:#f92672">=</span> {
</span></span><span style="display:flex;"><span>  [<span style="color:#a6e22e">TKey</span> <span style="color:#66d9ef">in</span> <span style="color:#66d9ef">keyof</span> <span style="color:#a6e22e">TObj</span> <span style="color:#f92672">&amp;</span> (<span style="color:#66d9ef">string</span> <span style="color:#f92672">|</span> <span style="color:#66d9ef">number</span>)]<span style="color:#f92672">:</span> <span style="color:#a6e22e">RecursiveKeyOfHandleValue</span><span style="color:#f92672">&lt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">TObj</span>[<span style="color:#a6e22e">TKey</span>],
</span></span><span style="display:flex;"><span>    <span style="color:#e6db74">`.</span><span style="color:#e6db74">${</span><span style="color:#a6e22e">TKey</span><span style="color:#e6db74">}</span><span style="color:#e6db74">`</span>
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&gt;</span>;
</span></span><span style="display:flex;"><span>}[<span style="color:#66d9ef">keyof</span> <span style="color:#a6e22e">TObj</span> <span style="color:#f92672">&amp;</span> (<span style="color:#66d9ef">string</span> <span style="color:#f92672">|</span> <span style="color:#66d9ef">number</span>)];
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">type</span> <span style="color:#a6e22e">RecursiveKeyOfHandleValue</span><span style="color:#f92672">&lt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">TValue</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">Text</span> <span style="color:#66d9ef">extends</span> <span style="color:#66d9ef">string</span>,
</span></span><span style="display:flex;"><span><span style="color:#f92672">&gt;</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">TValue</span> <span style="color:#66d9ef">extends</span> <span style="color:#66d9ef">unknown</span>[]
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">?</span> <span style="color:#a6e22e">Text</span>
</span></span><span style="display:flex;"><span>  : <span style="color:#66d9ef">TValue</span> <span style="color:#66d9ef">extends</span> <span style="color:#66d9ef">object</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">?</span> <span style="color:#a6e22e">Text</span> <span style="color:#f92672">|</span> <span style="color:#e6db74">`</span><span style="color:#e6db74">${</span><span style="color:#a6e22e">Text</span><span style="color:#e6db74">}${</span><span style="color:#a6e22e">RecursiveKeyOfInner</span>&lt;<span style="color:#f92672">TValue</span>&gt;<span style="color:#e6db74">}</span><span style="color:#e6db74">`</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">:</span> <span style="color:#a6e22e">Text</span>;</span></span></code></pre></td></tr></table>
</div>
</div>
</div><p>Let&rsquo;s not go deep on this abomination of a Type. Maybe another time. But what it does is quite cool. It flattens an object into a union Type of its hierarchy. Each key in the hierarchy is expressed through a dot-separated string from the root of the object. So from a object that looks like this: <code>{foo:{bar:{tar:''}}}</code> the <code>RecursiveKey</code> Type will produce a union Type like this <code>'foo' | 'foo.bar' | 'foo.bar.tar'</code>.</p>
<p>Looks quite like what we&rsquo;re looking for, right? With this helper we can declare a new Type in our application which ensures that each translation reference actually matches a translation in the translation file. This new Type can simply declared like this:</p>
<div class="codefile">
    <div class="filename"><small><strong>translation-key.type.ts</strong></small></div>

    
    
    <div class="highlight" file="translation-key.type.ts"><div style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">4
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-TypeScript" data-lang="TypeScript"><span style="display:flex;"><span><span style="color:#66d9ef">import</span> { <span style="color:#a6e22e">RecursiveKeyType</span> } <span style="color:#66d9ef">from</span> <span style="color:#e6db74">&#34;./recursive-key.type&#34;</span>;
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">import</span> <span style="color:#a6e22e">en</span> <span style="color:#66d9ef">from</span> <span style="color:#e6db74">&#34;../../../i18n/en&#34;</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">export</span> <span style="color:#66d9ef">type</span> <span style="color:#a6e22e">TranslationKey</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">RecursiveKeyType</span>&lt;<span style="color:#f92672">typeof</span> <span style="color:#a6e22e">en</span>&gt;;</span></span></code></pre></td></tr></table>
</div>
</div>
</div><h3 id="typed-pipe">Typed Pipe<a hidden class="anchor" aria-hidden="true" href="#typed-pipe">#</a></h3>
<p>Unfortunately, ngx-translate does not provide the possiblity to enable type-safe usage of translation keys out of the box. So we have to do it by ourselves. For that we create a new Pipe which extends ngx-translate&rsquo;s <code>TranslatePipe</code>. Then, we simply override the <code>transform</code> function to only accept keys of the TranslationKey Type:</p>
<div class="codefile">
    <div class="filename"><small><strong>typed-translate.pipe.ts</strong></small></div>

    
    
    <div class="highlight" file="typed-translate.pipe.ts"><div style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">14
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-TypeScript" data-lang="TypeScript"><span style="display:flex;"><span><span style="color:#66d9ef">@Pipe</span>({
</span></span><span style="display:flex;"><span>   <span style="color:#a6e22e">name</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;typedTranslate&#39;</span>,
</span></span><span style="display:flex;"><span>   <span style="color:#a6e22e">standalone</span>: <span style="color:#66d9ef">true</span>,
</span></span><span style="display:flex;"><span>   <span style="color:#a6e22e">pure</span>: <span style="color:#66d9ef">false</span>
</span></span><span style="display:flex;"><span>})
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">export</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">TypedTranslatePipe</span> <span style="color:#66d9ef">extends</span> <span style="color:#a6e22e">TranslatePipe</span> {
</span></span><span style="display:flex;"><span>   <span style="color:#66d9ef">constructor</span>(<span style="color:#a6e22e">translate</span>: <span style="color:#66d9ef">TranslateService</span>, <span style="color:#a6e22e">_ref</span>: <span style="color:#66d9ef">ChangeDetectorRef</span>) {
</span></span><span style="display:flex;"><span>       <span style="color:#66d9ef">super</span>(<span style="color:#a6e22e">translate</span>, <span style="color:#a6e22e">_ref</span>);
</span></span><span style="display:flex;"><span>   }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>   <span style="color:#a6e22e">override</span> <span style="color:#a6e22e">transform</span>(<span style="color:#a6e22e">key</span>: <span style="color:#66d9ef">TranslationKey</span>, ...<span style="color:#a6e22e">args</span>: <span style="color:#66d9ef">any</span>[])<span style="color:#f92672">:</span> <span style="color:#66d9ef">any</span> {
</span></span><span style="display:flex;"><span>       <span style="color:#66d9ef">return</span> <span style="color:#66d9ef">super</span>.<span style="color:#a6e22e">transform</span>(<span style="color:#a6e22e">key</span>, ...<span style="color:#a6e22e">args</span>);
</span></span><span style="display:flex;"><span>   }
</span></span><span style="display:flex;"><span>}</span></span></code></pre></td></tr></table>
</div>
</div>
</div><h3 id="usage">Usage<a hidden class="anchor" aria-hidden="true" href="#usage">#</a></h3>
<p>The custom <code>TypedTranslatePipe</code> can then be used like the regular <code>TranslateType</code>:</p>
<div class="codefile">
    <div class="filename"><small><strong>app.component.ts</strong></small></div>

    
    
    <div class="highlight" file="app.component.ts"><div style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">21
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-TypeScript" data-lang="TypeScript"><span style="display:flex;"><span><span style="color:#66d9ef">@Component</span>({
</span></span><span style="display:flex;"><span> <span style="color:#a6e22e">selector</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;app-root&#39;</span>,
</span></span><span style="display:flex;"><span> <span style="color:#a6e22e">standalone</span>: <span style="color:#66d9ef">true</span>,
</span></span><span style="display:flex;"><span> <span style="color:#a6e22e">imports</span><span style="color:#f92672">:</span> [<span style="color:#a6e22e">RouterOutlet</span>, <span style="color:#a6e22e">TranslateModule</span>, <span style="color:#a6e22e">NgForOf</span>, <span style="color:#a6e22e">TypedTranslatePipe</span>],
</span></span><span style="display:flex;"><span> <span style="color:#a6e22e">template</span><span style="color:#f92672">:</span> <span style="color:#e6db74">`
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">   &lt;p&gt;{{ &#39;USED_KEY&#39; | typedTranslate }}&lt;/p&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">   &lt;ul&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">     &lt;li *ngFor=&#34;let animal of animals&#34;&gt;{{ getAnimalKey(animal) | typedTranslate }}&lt;/li&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">   &lt;/ul&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">   
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">   {{ &#39;ENUM_KEY_cat&#39; | typedTranslate }}
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74"> `</span>,
</span></span><span style="display:flex;"><span> <span style="color:#a6e22e">styles</span><span style="color:#f92672">:</span> [],
</span></span><span style="display:flex;"><span>})
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">export</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">AppComponent</span> {
</span></span><span style="display:flex;"><span> <span style="color:#a6e22e">animals</span>: <span style="color:#66d9ef">Animals</span>[] <span style="color:#f92672">=</span> [<span style="color:#a6e22e">Animals</span>.<span style="color:#a6e22e">CAT</span>, <span style="color:#a6e22e">Animals</span>.<span style="color:#a6e22e">MOUSE</span>];
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span> <span style="color:#a6e22e">getAnimalKey</span>(<span style="color:#a6e22e">animal</span>: <span style="color:#66d9ef">Animals</span>)<span style="color:#f92672">:</span> <span style="color:#a6e22e">TranslationKey</span> {
</span></span><span style="display:flex;"><span>   <span style="color:#66d9ef">return</span> &lt;<span style="color:#f92672">const</span>&gt;<span style="color:#e6db74">`ENUM_KEY_</span><span style="color:#e6db74">${</span><span style="color:#a6e22e">animal</span><span style="color:#e6db74">}</span><span style="color:#e6db74">`</span>;
</span></span><span style="display:flex;"><span> }
</span></span><span style="display:flex;"><span>}</span></span></code></pre></td></tr></table>
</div>
</div>
</div><h1 id="my-conclusion">My Conclusion<a hidden class="anchor" aria-hidden="true" href="#my-conclusion">#</a></h1>
<p>To conclude, Team guidelines would be the first thing to establish in the team. With that we have the basis to apply reasonable and automatic checks. Then, creating a simple json schema which checks the key&rsquo;s format feels like a quick-win. It is not as intrusive as writing translations in TypeScript but can still lead to noticable improvements.</p>
<p>Introducing types for translations could be beneficial, especially for projects with extensive translations or when ensuring that all keys reference a valid translation. This is particularly useful in customer-facing applications.</p>
<p>Would you use TypeScript Typings for your translations? <a href="mailto:colin@cln.dev">Let me know</a><!-- raw HTML omitted --></p>


  </div>

  <footer class="post-footer">
    <ul class="post-tags">
    </ul>
  </footer>
</article>
    </main>
    
<footer class="footer">
        <span>&copy; 2025 <a href="http://localhost:1313/cln.dev/">cln.dev - Tech Blog</a></span> Â· 

    <span>
        <a href="mailto:colin@cln.dev">Contact me</a>
    </span>
    <span>
        Powered by
        <a href="https://gohugo.io/" rel="noopener noreferrer" target="_blank">Hugo</a> &
        <a href="https://github.com/adityatelange/hugo-PaperMod/" rel="noopener" target="_blank">PaperMod</a>
    </span>
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
        <path d="M12 6H0l6-6z" />
    </svg>
</a>

<script>
    let menu = document.getElementById('menu')
    if (menu) {
        menu.scrollLeft = localStorage.getItem("menu-scroll-position");
        menu.onscroll = function () {
            localStorage.setItem("menu-scroll-position", menu.scrollLeft);
        }
    }

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener("click", function (e) {
            e.preventDefault();
            var id = this.getAttribute("href").substr(1);
            if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
                    behavior: "smooth"
                });
            } else {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();
            }
            if (id === "top") {
                history.replaceState(null, null, " ");
            } else {
                history.pushState(null, null, `#${id}`);
            }
        });
    });

</script>
<script>
    var mybutton = document.getElementById("top-link");
    window.onscroll = function () {
        if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
            mybutton.style.visibility = "visible";
            mybutton.style.opacity = "1";
        } else {
            mybutton.style.visibility = "hidden";
            mybutton.style.opacity = "0";
        }
    };

</script>
<script>
    document.getElementById("theme-toggle").addEventListener("click", () => {
        if (document.body.className.includes("dark")) {
            document.body.classList.remove('dark');
            localStorage.setItem("pref-theme", 'light');
        } else {
            document.body.classList.add('dark');
            localStorage.setItem("pref-theme", 'dark');
        }
    })

</script>
</body>

</html>
